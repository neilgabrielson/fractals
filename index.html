<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="style.css">
        <link rel="stylesheet" type="text/css" href="https://neilgabrielson.com/style.css" />
        <title>Fractal Plotter</title>
    </head>
    <body>
        <div id="container">
            <header>
                <h1>Fractal Plotter</h1>
                <h3>by Neil Gabrielson</h3>
            </header>
            <main>
                <label>
                    Fractal:
                    <select id="fractal_type" onchange="update_fractal_type()">
                        <option value="0">Mandelbrot</option>
                        <option value="1">Cubic Multibrot</option>
                        <option value="2">Quartic Multibrot</option>
                        <option value="3">Hyperbolic Mandelbrot</option>
                        <option value="4">Burning Ship</option>
                        <option value="5">Tricorn</option>
                    </select>
                </label>
                <label>
                    Color Map:
                    <select id="cmap" onchange="update_cmap()">
                        <option value="red">Red</option>
                        <option value="tropical">Tropical</option>
                        <option value="viridis">Viridis</option>
                        <option value="flower">Flower</option>
                        <option value="purple">Purple</option>
                        <option value="halloween">Halloween</option>
                    </select>
                </label>
                <div class="fractal-container">
                    <div class="canvas-container">
                        <canvas id="mandelbrot" width="400" height="400"></canvas>
                        <canvas id="mandelbrot-overlay" width="400" height="400"></canvas>
                        <div class="canvas-controls">
                            <button onclick="scale_mandelbrot(0.5)">+</button>
                            <button onclick="scale_mandelbrot(2)">-</button>
                            <button onclick="reset_mandelbrot()">Reset</button>
                            <button onclick="toggle_c_lock()" id="c_lock_btn">Unlock</button>
                            <button onclick="download_canvas('mandelbrot')">PNG</button>
                        </div>
                    </div>
                    <div class="canvas-container">
                        <canvas id="julia" width="400" height="400"></canvas>
                        <canvas id="julia-overlay" width="400" height="400"></canvas>
                        <div class="canvas-controls">
                            <button onclick="scale_julia(0.5)">+</button>
                            <button onclick="scale_julia(2)">-</button>
                            <button onclick="reset_julia()">Reset</button>
                            <button onclick="iterate()">Step</button>
                            <button onclick="toggle_iteration()" id="iteration_toggle">Play</button>
                            <button onclick="download_canvas('julia')">PNG</button>
                        </div>
                    </div>
                </div>
                <form id="c_form" onsubmit="event.preventDefault(); update_c();">
                    <label>c = <input id="c_rl" name="real" /></label>
                    <label> + <input id="c_im" name="imag" />i </label>
                    <button type="submit">Enter</button>
                </form>
                <form id="z_form" onsubmit="event.preventDefault(); update_z();">
                        <label>z = <input id="z_rl" name="real" /></label>
                        <label> + <input id="z_im" name="imag" />i </label>
                        <button type="submit">Enter</button>
                </form>
                <br/>
                <label style="display: flex; gap: 10px;">
                    Escape Iterations:
                    <span style="width: 40px;" id="esc_time_indicator">100</span>
                    <input type="range" id="esc_time_slider" min="4" max="40" value="20" step="1">
                </label>
                <br/>
                <label style="display: flex; gap: 10px;">
                    Iteration Interval:
                    <span style="width: 40px;" id="play_speed_indicator">500</span>
                    <input type="range" id="play_speed_slider" min="10" max="1000" value="500" step="10">
                </label>
                <br/>
                <button onclick="reset()">Full Reset</button>
                <h3>Keyboard Shortcuts:</h3>
                <ul>
                    <li>[z/x] - zoom (parameter space)</li>
                    <li>[q/w] - zoom (phase space)</li>
                    <li>[i] - iterate once</li>
                    <li>[p] - play/pause iteration</li>
                    <li>[l] - toggle c lock</li>
                    <li>[r] - full reset</li>
                </ul>
                <h3>Links:</h3>
                <ul>
                    <li><a href="https://github.com/neilgabrielson/fractals">GitHub Repository</a></li>
                    <li><a href="https://neilgabrielson.com">My Website</a></li>
                </ul>
            </main>
        </div>
        <script src="script.js"></script>
    </body>
</html>